<%= turbo_frame_tag "main" do %>
  <div class="card album_showpage">
    <div class="card-header">
      <div class="row">
        <div class="col-md-3">
          <% if @album.image? %>
            <%= image_tag @album.image_url, alt: "Album Avatar", id: 'album_img', class: "img-fluid",  width: "300", height: "300" %>
          <% else %>
            <%= image_tag "album_default.jpg", alt: "Image", id: 'album_img', class: "img-fluid",  width: "300", height: "300" %>
          <% end %>
        </div>
        <div class="col-md-7 d-flex flex-column justify-content-end mb-2 p-0 album_info">
          <p class="fw-lighter"><%= @album.podcasts.count %> sessions </h6>
          <p class="text-white fw-bold fs-2"><%= @album.name %></h1>
          <p class="fw-light fs-5"><%= @album.user.user_info.profile_name.blank? ? 'Anonymous' :  @album.user.user_info.profile_name %></h3>
          <div>
            <%= image_tag "heart_white_icon.png", class:"heart" %>
            <%= image_tag "bookmark_white_icon.png", class:"bookmark" %>
          </div>
        </div>
        <div class="col-md-2 d-flex flex-column justify-content-between align-items-end album_play mt-5">
          <h3 class="text-white mt-4">Recommend</h2>
          <%= image_tag "play_icon.png", class:"play" %>
        </div>
      </div>
    </div>
    <div class="card-body">
      <p>Popular</p>
      <table  class="table table-borderless mx-auto table-condensed" >
        <thead>
          <th class="col-md-1 fw-lighter">#</th>
          <th class="col-md-1 fw-lighter">Title</th>
          <th class="col-md-5"></th>
          <th class="col-md-3 fw-lighter">Date added</th>
          <th class="col-md-1"><i class="fa-regular fa-clock" style="color: #d4d4d4;"></i></th>
        </thead>
        <tbody>
          <% @podcasts.each do |podcast| %>
            <tr>
              <td><%= podcast.episode_number %></td>
              <td>
                <% if podcast.image? %>
                  <%= image_tag podcast.image_url, alt: "Album Avatar", id: 'album_img', class: "img-fluid",  width: "100", height: "100" %>
                <% else %>
                  <%= image_tag "podcast_default.jpg", alt: "Image", id: 'album_img', class: "img-fluid",  width: "100", height: "100" %>
                <% end %>
              </td>
              <td>
                <h3><%= podcast.name %></h3>
                <h6><%= podcast.author_name %></h6>
              </td>
              <td><%= podcast.created_at.strftime("%b %d, %Y") %></td>
              <td>01h50</td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>
<% end %>
